<!DOCTYPE html>
<html lang="en">
    <head>
        <title>{{.Title}}</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <meta name="author" content="Edward Hesketh" />
        <meta name="description" content="{{index .Page "description"}}" />
        <link rel="icon" href="/favicon.svg" sizes="any" type="image/svg+xml">

        {{if index .Page "containsEmail"}}
        <script>
            document.addEventListener("DOMContentLoaded",(function(){
                let allElements = document.getElementsByClassName("email");
                for (const element of allElements) {
                  let output = "";
                  for (let count = 0; count < element.textContent.length; count += 2) {
                    output += String.fromCharCode(20 ^ parseInt(element.textContent.substr(count, 2), 16));
                  }
                  element.innerHTML = output; 
                  element.href = "mailto:" + output;
                }
            }));
        </script>
        {{end}}

        <link rel="stylesheet" href="/shared.css" />
        <link rel="stylesheet" href="index.css" />
    </head>
    <body style="min-height: 100vh; font-family: system-ui, sans-serif; background-color: var(--bg); color: var(--fg); margin:0px;">
        <header style="padding: 10px; margin: 0px;">
            <nav style="width: 1200px; max-width: 100%; margin: auto;">
                <a href="/" style="font-size:2em; color: black; color: var(--fg); text-decoration: none; font-weight: 700;">edwardh.dev</a>
                <br />
                <small>{{.Path}}</small>
            </nav>
        </header>
        <article style="margin:8px;	margin-top: 16px;	width: 1200px; max-width: calc(100% - 20px); margin-left: auto; margin-right: auto;">
            {{.Body}}
        </article>
        <footer style="padding: 10px; margin: 0px;">
            <div style="width: 1200px; max-width: 100%; margin: auto;">
                        <small>Written in plain HTML.</small>
                        <br />
                            <small>Content on this site is licenced under a <a href="https://creativecommons.org/licenses/by-nd/4.0/">Creative Commons Attribution-NoDerivatives 4.0 International licence</a>.</small>
            </div>
        </footer>
    </body>
</html>
